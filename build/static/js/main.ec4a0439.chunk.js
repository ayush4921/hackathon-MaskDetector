(this.webpackJsonpsocial_help=this.webpackJsonpsocial_help||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var a=n(3),i=n(1),o=n.n(i),c=n(16),r=n.n(c),s=(n(91),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=n(12),d=(n(63),n(144)),h=n(151),j=n(152),b=n(59),f=n(153),g=n(154),O=n(29),p=n(156),m=n(37),x=n(26),v=n(64),w=n(5),y=n(155),k=n(146),S=n(150),L=n(148),A=n(149),E=n(77),C=n.n(E),I=Object(d.a)({list:{width:250},fullList:{width:"auto"}});function N(){var e=I(),t=o.a.useState({left:!1}),n=Object(u.a)(t,2),i=n[0],c=n[1],r=function(e,t){return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&c(Object(v.a)(Object(v.a)({},i),{},Object(x.a)({},e,t)))}},s=function(t){return Object(a.jsx)("div",{className:Object(w.a)(e.list,Object(x.a)({},e.fullList,"top"===t||"bottom"===t)),role:"presentation",onClick:r(t,!1),onKeyDown:r(t,!1),children:Object(a.jsxs)(k.a,{children:[Object(a.jsx)(m.b,{to:"/",style:{textDecoration:"none"},children:Object(a.jsx)(L.a,{button:!0,children:Object(a.jsx)(A.a,{primary:"Home"})},"Home")}),Object(a.jsx)(m.b,{to:"/detect",style:{textDecoration:"none"},children:Object(a.jsx)(L.a,{button:!0,children:Object(a.jsx)(A.a,{primary:"Mask Detector"})},"Mask Detector")})]})})};return Object(a.jsx)("div",{children:["left"].map((function(t){return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(S.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:r(t,!0),children:Object(a.jsx)(C.a,{})}),Object(a.jsx)(y.a,{anchor:t,open:i[t],onClose:r(t,!1),children:s(t)})]},t)}))})}n(104),n(111),n(112);try{O.a.initializeApp({apiKey:"AIzaSyAeOWo7Lh4euA9BQ28B_kIc7iehc_KKEhc",authDomain:"testlogin-4d1bd.firebaseapp.com",projectId:"testlogin-4d1bd",storageBucket:"testlogin-4d1bd.appspot.com",messagingSenderId:"219930909216",appId:"1:219930909216:web:108fa08d839f7246d4ba45",measurementId:"G-T3BP4Y2SKK"})}catch(V){}O.a.analytics();new O.a.auth.GoogleAuthProvider;O.a.auth().setPersistence(O.a.auth.Auth.Persistence.LOCAL);var B=O.a.auth(),M=(O.a.firestore(),new O.a.auth.GoogleAuthProvider);B.setPersistence(O.a.auth.Auth.Persistence.LOCAL);var P=Object(d.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var W=function(e){var t=Object(i.useState)(!1),n=Object(u.a)(t,2),o=n[0],c=n[1],r=Object(i.useState)({}),s=Object(u.a)(r,2),l=s[0],d=s[1];B.onAuthStateChanged((function(e){if(e){var t=B.currentUser;d(t),c(!0)}else c(!1)}));var O=P();return Object(a.jsx)("div",{className:O.root,id:"Menu",children:Object(a.jsx)(h.a,{color:"transparent",elevation:0,children:Object(a.jsxs)(j.a,{children:[Object(a.jsx)(N,{}),Object(a.jsx)(b.a,{variant:"h6",className:O.title,children:Object(a.jsx)(m.b,{to:"/",style:{textDecoration:"none",color:"white"}})}),Object(a.jsx)(f.a,{children:" "}),o?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(f.a,{color:"inherit",onClick:function(){B.signOut().then((function(){alert("Logout successful")})).catch((function(e){alert("An error occured")}))},children:"LogOut"}),Object(a.jsx)(p.a,{alt:l.displayName,src:l.photoURL})]}):Object(a.jsx)(f.a,{onClick:function(){B.signInWithPopup(M).then((function(e){})).catch((function(e){var t=e.message;alert(t)}))},color:"inherit",children:Object(a.jsx)(g.a,{className:"fab fa-google",style:{paddingLeft:20,fontSize:30}})})]})})})},D=n(39),R=n.n(D),z=n(58),T=(n.p,n(67)),F=n.n(T),K=n(157),G=n(8);var H=function(){var e,t=Object(i.useState)(!1),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(i.useState)({}),l=Object(u.a)(s,2),d=l[0],h=l[1],j=Object(i.useState)({lat:"",lng:""}),b=Object(u.a)(j,2),f=b[0],g=b[1];B.onAuthStateChanged((function(e){if(e){var t=B.currentUser;h(t.displayName),r(!0)}else r(!1)}));var O=Object(G.a)({root:{color:"#69B0E8",height:3,padding:"13px 0"},track:{height:4,borderRadius:2},thumb:{height:20,width:20,backgroundColor:"#fff",border:"1px solid currentColor",marginTop:-9,marginLeft:-11,color:"grey"}})(K.a),p=Object(i.useState)({lat:"",lng:""}),m=Object(u.a)(p,2),v=m[0],w=m[1],y=o.a.useState(30),k=Object(u.a)(y,2),S=k[0],L=k[1],A=Object(i.useState)("true"===localStorage.getItem("vOneLocalStorage")),E=Object(u.a)(A,2),C=(E[0],E[1]);function I(e){return N.apply(this,arguments)}function N(){return(N=Object(z.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("granted"!=Notification.permission){e.next=5;break}return e.next=3,navigator.serviceWorker.getRegistration();case 3:e.sent.showNotification(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(){var e=Object(i.useState)({width:void 0,height:void 0}),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}();function P(){return(P=Object(z.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation;case 2:if(!e.sent){e.next=7;break}return e.next=5,navigator.geolocation.getCurrentPosition(T,W,D);case 5:e.next=8;break;case 7:console.log("Error");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}Object(i.useEffect)((function(){"granted"===Notification.permission||"denied"!==Notification.permission&&Notification.requestPermission().then((function(e){"granted"===Notification.permission&&I("Thanks for granting permission")}))}),[2]);var D={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};function T(e){return H.apply(this,arguments)}function H(){return(H=Object(z.a)(R.a.mark((function e(t){var n,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.coords.latitude;case 2:return n=e.sent,e.next=5,t.coords.longitude;case 5:a=e.sent,w({lat:n,lng:a});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=M.height/2,_=((M.height/3.5).toFixed(0),U.toFixed(0));Object(i.useEffect)((function(){localStorage.getItem("vOneLocalStorage");window.addEventListener("storage",(function(){var e=localStorage.getItem("vOneLocalStorage");C(e)}))}),[]);var q=Object(i.useState)(0),V=Object(u.a)(q,2),J=V[0],Q=V[1],Y=Object(i.useState)(1),$=Object(u.a)(Y,2),X=$[0],Z=$[1];function ee(e,t,n,a){var i=te(n-e),o=te(a-t),c=(e=te(e),n=te(n),Math.sin(i/2)*Math.sin(i/2)+Math.sin(o/2)*Math.sin(o/2)*Math.cos(e)*Math.cos(n));return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}function te(e){return e*Math.PI/180}return F()(Z(0),25e3),Object(i.useEffect)((function(){ee(v.lat,v.lng,f.lat,f.lng)>S&&0===J?(I("Please ensure that you have worn a mask"),Q(1)):1===J&&ee(v,f)>S&&(ee(v,f),I("Please ensure to wash your hands"))}),[X]),F()((function(){return P.apply(this,arguments)}),250),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"App",style:{display:"flex",width:"100%",flexDirection:"column",alignItems:"center"},children:[Object(a.jsx)("div",{style:{display:"flex",width:"100vh",flexDirection:"column",alignItems:"center"},children:Object(a.jsx)("div",{style:{display:"flex",width:"100vh",flexDirection:"column",alignItems:"center"}})}),Object(a.jsx)("img",{style:{padding:0,marginBottom:0,height:_},src:"https://maps.google.com/maps/api/staticmap?center=".concat(v.lat,",").concat(v.lng,"&markers=color:blue%7Clabel:S%7C").concat(v.lat,",").concat(v.lng,"&zoom=15&size=").concat(M.width,"x").concat(_,"&sensor=false&key=AIzaSyAeOWo7Lh4euA9BQ28B_kIc7iehc_KKEhc")}),Object(a.jsxs)("div",{style:{backgroundColor:"#414141",height:U+15,width:M.width,borderRadius:"20px 20px 0px 0px",marginTop:-15},children:[Object(a.jsx)("br",{}),Object(a.jsxs)("h2",{style:{color:"white"},children:["Welcome ",c&&d]}),Object(a.jsx)("p",{children:"Select the radius of your location (m)"}),Object(a.jsx)(O,(e={"aria-labelledby":"discrete-slider-small-steps",step:10,marks:!0,min:20,max:100},Object(x.a)(e,"aria-labelledby","discrete-slider-restrict"),Object(x.a)(e,"valueLabelDisplay","on"),Object(x.a)(e,"getAriaValueText",(function(e){return"".concat(e," m")})),Object(x.a)(e,"value",S),Object(x.a)(e,"onChange",(function(e,t){L(t)})),Object(x.a)(e,"style",{width:"75%"}),e)),Object(a.jsx)("br",{}),Object(a.jsx)("button",{id:"locationbutton",onClick:function(){I("Added Location Succeesfully"),g(v)},style:{fontSize:"15px",marginTop:"30px",backgroundColor:"#69B0E8",borderRadius:"10px"},children:"Save Location"})]})]})})},U=n(15);var _=function(){var e=Object(i.useState)({lat:"",lng:""}),t=Object(u.a)(e,2),n=(t[0],t[1],o.a.useState(30)),c=Object(u.a)(n,2),r=(c[0],c[1],Object(i.useState)("true"===localStorage.getItem("vOneLocalStorage"))),s=Object(u.a)(r,2),l=s[0],d=s[1],h=function(){var e=Object(i.useState)({width:void 0,height:void 0}),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),j=h.height/2,b=((h.height/3.5).toFixed(0),j.toFixed(0));Object(i.useEffect)((function(){localStorage.getItem("vOneLocalStorage");window.addEventListener("storage",(function(){var e=localStorage.getItem("vOneLocalStorage");d(e)})),Notification.requestPermission((function(e){console.log("Notification permission status:",e)}))}),[]);var f=Object(i.useState)(0),g=Object(u.a)(f,2),O=g[0],p=g[1];return Object(i.useEffect)((function(){var e;0===O&&(e="Good job! You are well protected against Covid","granted"==Notification.permission&&navigator.serviceWorker.getRegistration().then((function(t){t.showNotification(e)})),p(1))}),[l]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"App",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(a.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}}),Object(a.jsx)("div",{style:{texAlign:"center",paddingTop:"6vh",paddingBottom:"0",marginBottom:"0"},children:Object(a.jsx)("h2",{style:{color:"#69B0E8"},children:"Verification"})}),Object(a.jsx)("p",{style:{color:"#69B0E8",marginTop:-10},children:"Please verify your mask"}),Object(a.jsx)("embed",{class:"major",src:"https://dazzling-mccarthy-f96267.netlify.app/mywebcam.html",title:"ads",style:{width:"".concat(b,"px"),height:"".concat(b,"px"),overflow:"hidden",marginTop:"0px",marginRight:"0px",marginLeft:"0px",padding:0,marginBottom:"0px",paddingBottom:"0px"}})]}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{children:"Correct: Mask On"===l&&Object(a.jsx)("img",{height:"150px",style:{marginTop:-10},src:"check.gif"})}),"Correct: Mask On"===l&&Object(a.jsx)("h3",{style:{color:"green"},children:"Correct: Mask On"}),"Wrong: No Mask"===l&&Object(a.jsx)("div",{children:Object(a.jsx)("h3",{style:{color:"red"},children:"Please wear your mask"})}),"Wrong: Nose Visible"===l&&Object(a.jsx)("div",{children:Object(a.jsx)("h3",{style:{color:"red"},children:"Please wear your mask above the nose"})})]}),Object(a.jsx)("br",{})]})};var q=function(){var e=Object(i.useState)(""),t=Object(u.a)(e,2),n=t[0],o=t[1];return Object(i.useEffect)((function(){var e=document.getElementById("Menu").clientHeight;o(e)})),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)(W,{}),Object(a.jsx)(U.a,{exact:!0,path:"/",children:Object(a.jsx)(H,{})}),Object(a.jsx)(U.a,{exact:!0,path:"/detect",children:Object(a.jsx)(_,{height:n})})]})})};r.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(q,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");s?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(t,e)}))}}()},63:function(e,t,n){},91:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.ec4a0439.chunk.js.map